<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="color-scheme" content="light dark">
	<link rel="icon" href="data:,">
	<title>Dear Apple, Please Fix Safari's Default Dark Mode Link Color</title>
	<link href="/index.rss" type="application/rss+xml" rel="alternate" title="RSS feed for blog posts" />
	<link rel="stylesheet" href="/public/style.css?v=1.0">
</head>

<header id="top">
	<nav>
		<a href="/"><b>vaughn.li</b></a><span> | </span><a href="#menu">Menu</a>
	</nav>
</header>

<main>
<h1 id="dear-apple-please-fix-safaris-default-dark-mode-link-color">Dear Apple, Please Fix Safari’s Default Dark Mode Link Color</h1>

<p>2022-04-18</p>

<p>Supporting dark mode on the modern web falls under the realm of accessibility and should not be ignored. It is important and helps keep the visual flow of your content to match that of your users’ operating system UI. Not to mention, it’s easy to implement and keep consistent across browsers.</p>

<h2 id="support-dark-mode-with-zero-css">Support Dark Mode with Zero CSS</h2>

<p>A common practice is to include a <code>@media</code> query via CSS to target styling changes based on whether <code>dark-mode</code> is active. I tend to believe this is overkill for basic websites. Many developers aren’t aware of the HTML <code>color-scheme</code> parameter. (This website itself is using it in place of CSS media queries)</p>

<h3 id="html-color-scheme">HTML “color-scheme”</h3>

<p>Adding the following meta tag inside your document’s <code>head</code> element, you can enable dark mode instantly with zero configuration:</p>

<pre><code>&lt;meta name="color-scheme" content="dark light" /&gt;
</code></pre>

<p>There are minor caveats:</p>

<ol>
  <li>You should not be specifying any <code>background</code> styling to your <code>body</code> or <code>html</code> elements</li>
  <li>You should be not specifying any <code>color</code> styling across any of your readable content (paragraphs, headings, lists, blockquotes)</li>
</ol>

<p>That’s it! In case you were curious, all major browsers support this color scheme meta tag: <a href="https://caniuse.com/mdn-html_elements_meta_name_color-scheme">https://caniuse.com/mdn-html_elements_meta_name_color-scheme</a></p>

<h2 id="but-wait-whats-this-about-safari">But Wait, What’s This About Safari?</h2>

<p>Even though by adding the color-scheme meta tag we get ourselves good dark mode support across all browsers - Safari has one big oversight: link color. Take a look at the comparison screenshots below (based on one of my older articles). The first one is taken in Firefox, the second in Safari:</p>

<figure>
<img src="/public/images/firefox-dark-mode.webp" alt="Firefox dark mode example" />
<figcaption>Firefox's default dark mode link color</figcaption>
</figure>

<figure>
<img src="/public/images/safari-dark-mode.webp" alt="Safari dark mode example" />
<figcaption>Safari's default dark mode link color - yuck!</figcaption>
</figure>

<p>Luckily for us there is a simple solution using minimal amounts of CSS<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>:</p>

<pre><code>@supports (color-scheme: dark light) {
    @media screen and (prefers-color-scheme: dark) {
        a:link {color: #9e9eff;}
        a:visited {color: #d0adf0;}
        a:active {color: red;}
    }
}
</code></pre>

<p>We are brute-forcing Safari to implement the same color HEX codes used by both Firefox and Chrome browsers. How a horrible accessibility oversight could happen within a company as large as Apple is astounding…</p>

<h2 id="apple-fix-your-browsers-dark-mode">Apple: Fix Your Browser’s Dark Mode</h2>

<p>My hope if that even one Safari design or development team member stumbles across this article and raises this ticket to the rest of the team<sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>. It’s an unbelievably easy fix and would save developers the headache of overriding these things ourselves.</p>

<p>Thanks for reading and happy dark mode to you all!</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1">
      <p>Special thanks to <a href="https://seirdy.one/">Seirdy</a> for suggesting the use of :link and :active support. I recommend you check out his take on <a href="https://seirdy.one/2020/11/23/website-best-practices.html#dark-themes">dark mode / theme support</a>. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>This has an open ticket through <a href="https://bugs.webkit.org/show_bug.cgi?id=209851">Webkit Bugzilla</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
</main>

<footer role="contentinfo">
    <nav id="menu">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/index.rss">RSS</a></li>
            <li><a href="#top">&uarr; Top</a></li>
        </ul>
    </nav>
    <small>
        Built with <a href="https://wruby.btxx.org">wruby</a> <br>
        Running on <a href="https://openbsd.org">OpenBSD</a> via <a href="https://billing.linveo.com/order/forms/a/MTM4Ng==">Linveo</a><br>
        Supporter of <a href="https://nextdns.io/?from=74d3p3h8">NextDNS</a> & <a href="https://usefathom.com/ref/DKHJVX">Fathom Analytics</a><br/>
        The content for this site is <a
          href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a><br>
        The <a href="https://git.sr.ht/~bt/btxx.org">code for this site</a>
        is <a href="https://git.sr.ht/~bt/btxx.org/tree/master/item/LICENSE">MIT</a>
    </small>
</footer>
