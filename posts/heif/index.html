<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="color-scheme" content="light dark">
	<link rel="icon" href="data:,">
	<title>Converting HEIF Images with macOS Automator</title>
	<link href="/index.rss" type="application/rss+xml" rel="alternate" title="RSS feed for blog posts" />
	<link rel="stylesheet" href="/public/style.css?v=1.0">
</head>

<header id="top">
	<nav>
		<a href="/"><b>vaughn.li</b></a><span> | </span><a href="#menu">Menu</a>
	</nav>
</header>

<main>
<h1 id="converting-heif-images-with-macos-automator">Converting HEIF Images with macOS Automator</h1>

<p>2023-07-21</p>

<p>Often times when you save or export photos from iOS to iCloud they often render themselves into <code>heif</code> or <code>heic</code> formats. Both macOS and iOS have no problem working with these formats, but a lot of software programs will not even recognize these filetypes. The obvious step would just be to convert them via an application or online service, right?</p>

<p>Not so fast! Wouldn’t it be much cleaner if we could simply right-click our <code>heif</code> or <code>heic</code> files and convert them directly in Finder? Well, I’ve got some good news for you…</p>

<h2 id="basic-requirements">Basic Requirements</h2>

<ol>
  <li>You will need to have <a href="https://homebrew.sh">Homebrew</a> installed</li>
  <li>You will need to install the <code>libheif</code> package through Homebrew: <code>brew install libheif</code></li>
</ol>

<h2 id="creating-our-custom-automator-script">Creating our custom Automator script</h2>

<p>For this example script we are going to convert the image to JPG format. You can freely change this to whatever format you wish (PNG, TIFF, etc.). We’re just keeping things basic for this tutorial. Don’t worry if you’ve never worked with Automator before because setting things up is incredibly simple.</p>

<ol>
  <li>Open the macOS Automator from the Applications folder</li>
  <li>Select <code>Quick Option</code> from the first prompt</li>
  <li>Set “Workflow receives current” to <code>image files</code></li>
  <li>Set the label “in” to <code>Finder</code></li>
  <li>From the left pane, select “Library &gt; Utilities”</li>
  <li>From the presented choices in the next pane, drag and drop <code>Run Shell Script</code> into the far right pane</li>
  <li>Set the area “Pass input” to <code>as arguments</code></li>
  <li>Enter the following code below as your script and type <code>⌘-S</code> to save (name it something like “Convert HEIC/HEIF to JPG”)</li>
</ol>

<pre><code class="language-sh">for f in "$@"
do
/opt/homebrew/bin/heif-convert "$f" "${f%.*}.jpg"
done
</code></pre>

<h2 id="making-edits">Making Edits</h2>

<p>If you ever have the need to edit this script (for example, changing the default format to <code>png</code>), you will need to navigate to your <code>~/Library/Services</code> folder and open your custom heif Quick Action in the Automator application.</p>

<p>Simple as that. Happy converting!</p>

<p>If you’re interested, I also have some other Automator scripts available:</p>

<ul>
  <li><a href="/posts/batch-webp-conversion/">Batch Converting Images to webp with macOS Automator</a></li>
  <li><a href="/posts/macos-convert-to-html/">Convert Files to HTML with macOS Automator Quick Actions</a></li>
</ul>
</main>

<footer role="contentinfo">
    <nav id="menu">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/index.rss">RSS</a></li>
            <li><a href="#top">&uarr; Top</a></li>
        </ul>
    </nav>
    <small>
        Built with <a href="https://wruby.btxx.org">wruby</a> <br>
        Running on <a href="https://openbsd.org">OpenBSD</a> via <a href="https://billing.linveo.com/order/forms/a/MTM4Ng==">Linveo</a><br>
        Supporter of <a href="https://nextdns.io/?from=74d3p3h8">NextDNS</a> & <a href="https://usefathom.com/ref/DKHJVX">Fathom Analytics</a><br/>
        The content for this site is <a
          href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a><br>
        The <a href="https://git.sr.ht/~bt/btxx.org">code for this site</a>
        is <a href="https://git.sr.ht/~bt/btxx.org/tree/master/item/LICENSE">MIT</a>
    </small>
</footer>
