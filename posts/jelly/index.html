<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="color-scheme" content="light dark">
	<link rel="icon" href="data:,">
	<title>Transferring Media from macOS to a Jellyfin Server (Raspberry Pi 4)</title>
	<link href="/index.rss" type="application/rss+xml" rel="alternate" title="RSS feed for blog posts" />
	<link rel="stylesheet" href="/public/style.css?v=1.0">
</head>

<header id="top">
	<nav>
		<a href="/"><b>vaughn.li</b></a><span> | </span><a href="#menu">Menu</a>
	</nav>
</header>

<main>
<h1 id="transferring-media-from-macos-to-a-jellyfin-server-raspberry-pi-4">Transferring Media from macOS to a Jellyfin Server (Raspberry Pi 4)</h1>

<p>2022-03-12</p>

<p>I run a personal media server using Jellyfin on a Raspberry Pi 4 in my home. It’s pretty great and works well across most devices - Google TV, iOS and Android devices, Chromebooks, etc.</p>

<p>The only small headache is adding content (ie. audio, videos) to the existing hard drive that Jellyfin reads from. The last thing you want to do is connect a keyboard and monitor to your Pi to add a few files. Especially if your Pi is setup like mine and buried at the back of a hidden cabinet.</p>

<p>More annoying would be the need to remove the hard drive itself, connect it to your device that has the new files you wish to transfer and then port them over. Big ol’ pass on that system.</p>

<h2 id="sshscp-to-the-rescue">SSH/SCP to the Rescue</h2>

<p><em>Important</em>: before we begin, I should mention that this article assumes the following:</p>

<ul>
  <li>The files you plan to transfer from are on a macOS device</li>
  <li>You have setup Jellyfin on your Raspberry Pi device</li>
  <li>SSH is enabled and accessible on the Pi (across your local network)</li>
  <li>The Jellyfin server’s hard drive is mounted in the root directory via something like <code>/mnt</code></li>
</ul>

<p>Good? Moving on then…</p>

<p>Open your terminal of choice and use the following command:</p>

<pre><code>scp movie.mp4 pi_user_name@PI_IP_ADDRESS:/mnt/movies/movie.mp4
</code></pre>

<ol>
  <li><code>movie.mp4</code> is the file in the current macOS directory we plan to copy over</li>
  <li><code>pi_user_name</code> is the username you setup on your Raspberry Pi</li>
  <li><code>PI_IP_ADDRESS</code> is, of course, your Pi’s IP address</li>
  <li>The appended <code>:/mnt/movies/movie.mp4</code> is the directory your Jellyfin server uses to pull-in media</li>
</ol>

<p>You’ll be prompted for the user password. Once entered the file will begin copying over to your remote Jellyfin server. That’s it! Although, I should mention a little bonus feature that you should always have in your back pocket, since Jellyfin can sometimes be picky with media file formats:</p>

<h2 id="converting-media-files-with-ease">Converting Media Files with Ease</h2>

<p>This is where your new best friend <code>FFmpeg</code> comes into your life (if they weren’t there already).</p>

<ul>
  <li>Download and install <code>FFmpeg</code> –&gt; <a href="https://www.ffmpeg.org/download.html">ffmpeg.org/download.html</a></li>
</ul>

<p>Now navigate to the directory containing the media file you wish to convert via your Terminal and run the following command:</p>

<pre><code>ffmpeg -i input.mp4 output.mkv
</code></pre>

<ol>
  <li><code>input.mp4</code> is the initial file we wish to convert</li>
  <li><code>output.mkv</code> will be the name and file type of our converted media</li>
</ol>

<p>Now you can circle back and run the previous <code>scp</code> command once you have converted your files to the desired format. Hopefully Jellyfin doesn’t complain about the formatting!</p>
</main>

<footer role="contentinfo">
    <nav id="menu">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/index.rss">RSS</a></li>
            <li><a href="#top">&uarr; Top</a></li>
        </ul>
    </nav>
    <small>
        Built with <a href="https://wruby.btxx.org">wruby</a> <br>
        Running on <a href="https://openbsd.org">OpenBSD</a> via <a href="https://billing.linveo.com/order/forms/a/MTM4Ng==">Linveo</a><br>
        Supporter of <a href="https://nextdns.io/?from=74d3p3h8">NextDNS</a> & <a href="https://usefathom.com/ref/DKHJVX">Fathom Analytics</a><br/>
        The content for this site is <a
          href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a><br>
        The <a href="https://git.sr.ht/~bt/btxx.org">code for this site</a>
        is <a href="https://git.sr.ht/~bt/btxx.org/tree/master/item/LICENSE">MIT</a>
    </small>
</footer>
